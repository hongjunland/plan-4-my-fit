# 요구사항 문서

## 소개

개인 맞춤형 헬스 루틴 플래너 앱입니다. AI(GPT-4)가 사용자의 신체 정보, 운동 목적, 체력 수준에 맞는 운동 루틴을 생성하고, 캘린더 형태로 운동을 관리할 수 있습니다.

## 용어 정의

- **User**: 앱을 사용하는 사람
- **Profile**: 사용자의 상세 신체 정보 및 운동 관련 설정 (연령, 성별, 키, 몸무게, 운동 장소, 목표, 초점, 체력 수준, 불편한 부위, 운동 경력, 플랜 기간)
- **Routine**: 일정 기간 동안의 운동 계획
- **Active_Routine**: 현재 활성화된 루틴 (1개만 가능)
- **Workout**: 하루 단위의 운동 세션
- **Exercise**: 개별 운동 동작 (운동명, 세트, 반복 횟수, 대상 근육 포함)
- **Muscle_Group**: 운동이 주로 타겟하는 근육 부위
- **Exercise_Editor**: 운동 항목을 자유롭게 편집할 수 있는 기능
- **Split**: 운동 분할 방식 (전신, 상/하체, 푸쉬/풀/레그 등)
- **Calendar_View**: 캘린더 표시 방식 (오늘/주간/월간)

## 유저 플로우

### A. 첫 사용자
```
구글 로그인 → 프로필 설정 → 루틴 생성 → 캘린더 (메인)
```

### B. 기존 사용자
```
구글 로그인 → 캘린더 (메인)
```

## 요구사항

### 요구사항 1: 구글 소셜 로그인

**사용자 스토리:** 사용자로서, 구글 계정으로 간편하게 로그인하고 싶습니다.

#### 수락 기준

1. WHEN 사용자가 로그인 화면에 접근하면, THE System SHALL "Google로 계속하기" 버튼을 표시한다
2. WHEN 사용자가 구글 로그인을 완료하면, THE System SHALL 구글 프로필에서 이메일, 이름, 프로필 사진을 가져온다
3. WHEN 첫 로그인 사용자가 로그인하면, THE System SHALL 프로필 설정 화면으로 이동한다
4. WHEN 기존 사용자가 로그인하면, THE System SHALL 캘린더 화면(메인)으로 이동한다
5. WHEN 사용자가 로그아웃하면, THE System SHALL 로그인 화면으로 이동한다

### 요구사항 2: 사용자 프로필 설정 (상세)

**사용자 스토리:** 사용자로서, 내 상세한 신체 정보와 운동 환경을 입력하여 정확한 맞춤형 루틴을 받고 싶습니다.

#### 수락 기준

**기본 정보:**
1. WHEN 사용자가 프로필 설정 화면에 접근하면, THE System SHALL 연령, 성별, 키, 몸무게 입력 폼을 표시한다
2. WHEN 사용자가 연령을 입력할 때, THE System SHALL 15세~80세 범위의 숫자만 허용한다
3. WHEN 사용자가 성별을 선택할 때, THE System SHALL 남성, 여성, 기타 옵션을 제공한다
4. WHEN 사용자가 키를 입력할 때, THE System SHALL 100cm~250cm 범위의 숫자만 허용한다
5. WHEN 사용자가 몸무게를 입력할 때, THE System SHALL 30kg~300kg 범위의 숫자만 허용한다

**운동 환경:**
6. WHEN 사용자가 운동 장소를 선택할 때, THE System SHALL 헬스장, 홈트레이닝, 야외운동, 복합 옵션을 제공한다
7. WHEN 사용자가 주간 운동 횟수를 선택할 때, THE System SHALL 1회~7회 범위의 옵션을 제공한다

**운동 목표 및 초점:**
8. WHEN 사용자가 운동 목표를 선택할 때, THE System SHALL 근력 증가, 체중 감량, 체력 향상, 근육량 증가, 체형 교정 옵션을 제공한다
9. WHEN 사용자가 운동 초점을 선택할 때, THE System SHALL 상체 중심, 하체 중심, 전신 균형, 코어 강화 옵션을 제공한다

**신체 조건:**
10. WHEN 사용자가 현재 체력 수준을 선택할 때, THE System SHALL 입문자, 초급자, 중급자, 상급자 옵션을 제공한다
11. WHEN 사용자가 불편한 부위를 선택할 때, THE System SHALL 목, 어깨, 허리, 무릎, 발목, 손목, 없음 옵션을 제공한다
12. WHEN 사용자가 여러 불편한 부위를 선택할 때, THE System SHALL 다중 선택을 허용한다

**운동 경력:**
13. WHEN 사용자가 운동 경력을 선택할 때, THE System SHALL 없음, 6개월 미만, 6개월~1년, 1년~3년, 3년 이상 옵션을 제공한다
14. WHEN 사용자가 운동 경력이 있다고 선택하면, THE System SHALL 주요 운동 종목과 중량/횟수 입력 폼을 표시한다
15. WHEN 사용자가 운동 경력 상세를 입력할 때, THE System SHALL 벤치프레스, 스쿼트, 데드리프트 등 주요 운동의 최대 중량을 입력할 수 있게 한다

**플랜 설정:**
16. WHEN 사용자가 플랜 기간을 선택할 때, THE System SHALL 4주, 8주, 12주, 16주 옵션을 제공한다

**유효성 검사:**
17. IF 사용자가 필수 필드를 비워두면, THEN THE System SHALL 해당 필드에 오류 메시지를 표시한다
18. WHEN 사용자가 유효한 프로필 정보를 제출하면, THE System SHALL 프로필을 저장하고 루틴 생성 화면으로 이동한다
19. WHEN 사용자가 마이페이지에서 프로필 설정을 선택하면, THE System SHALL 프로필 수정 화면을 표시한다

### 요구사항 3: 루틴 생성 (AI 기반)

**사용자 스토리:** 사용자로서, AI가 내 상황에 맞는 운동 루틴을 자동으로 생성해주길 원합니다.

#### 수락 기준

1. WHEN 사용자가 루틴 생성 화면에 접근하면, THE System SHALL 루틴 기간, 주당 운동 횟수, 분할 방식, 추가 요청사항 입력 폼을 표시한다
2. WHEN 사용자가 루틴 기간을 선택할 때, THE System SHALL 2주, 4주, 6주, 8주, 12주 옵션을 제공한다
3. WHEN 사용자가 주당 운동 횟수를 선택할 때, THE System SHALL 2회~6회 범위의 옵션을 제공한다
4. WHEN 사용자가 분할 방식을 선택할 때, THE System SHALL 전신, 상체/하체, 푸쉬/풀/레그 옵션을 제공한다
5. WHEN 주당 운동 횟수가 2회이면, THE System SHALL 전신 분할을 추천 표시한다
6. WHEN 주당 운동 횟수가 3~4회이면, THE System SHALL 상체/하체 분할을 추천 표시한다
7. WHEN 주당 운동 횟수가 5회 이상이면, THE System SHALL 푸쉬/풀/레그 분할을 추천 표시한다
8. WHEN 사용자가 추가 요청사항을 입력하면, THE System SHALL 해당 내용을 AI 프롬프트에 포함한다
9. WHEN 사용자가 "AI 루틴 생성"을 요청하면, THE System SHALL 로딩 상태를 표시하고 AI API를 호출한다
10. WHEN AI가 루틴을 생성하면, THE System SHALL 루틴을 저장하고 루틴 목록으로 이동한다
11. IF AI API 호출이 실패하면, THEN THE System SHALL 오류 메시지와 재시도 옵션을 표시한다

### 요구사항 4: 루틴 관리 및 자유 편집

**사용자 스토리:** 사용자로서, 여러 개의 루틴을 저장하고 관리하며, 각 운동을 자유롭게 편집하고 싶습니다.

#### 수락 기준

1. WHEN 사용자가 루틴 목록 화면에 접근하면, THE System SHALL 저장된 모든 루틴을 카드 형태로 표시한다
2. WHEN 루틴 카드를 표시할 때, THE System SHALL 루틴 이름, 기간, 주당 횟수, 분할 방식, 활성화 상태를 표시한다
3. WHEN 사용자가 루틴의 "활성화하기" 버튼을 클릭하면, THE System SHALL 해당 루틴을 활성화하고 다른 모든 루틴을 비활성화한다
4. THE System SHALL 한 번에 1개의 루틴만 활성화 상태를 유지한다
5. WHEN 사용자가 루틴 편집을 요청하면, THE System SHALL 루틴 내 모든 운동 항목을 편집할 수 있는 화면을 표시한다
6. WHEN 사용자가 운동 항목을 수정할 때, THE System SHALL 운동명, 세트 수, 반복 횟수, 대상 근육을 변경할 수 있게 한다
7. WHEN 사용자가 새 운동을 추가할 때, THE System SHALL 운동명 입력, 세트/반복 설정, 근육 그룹 선택을 제공한다
8. WHEN 사용자가 운동을 삭제할 때, THE System SHALL 확인 후 해당 운동을 제거한다
9. WHEN 사용자가 운동 순서를 변경할 때, THE System SHALL 드래그 앤 드롭으로 순서를 조정할 수 있게 한다
10. WHEN 사용자가 루틴 삭제를 요청하면, THE System SHALL 확인 후 해당 루틴을 삭제한다
11. WHEN 사용자가 루틴을 복제하면, THE System SHALL 동일한 내용의 새 루틴을 생성한다
12. WHEN 사용자가 "+" 버튼을 클릭하면, THE System SHALL 루틴 생성 화면으로 이동한다
13. THE System SHALL 사용자당 최대 10개의 루틴을 저장할 수 있게 한다

### 요구사항 4-1: 운동별 근육 그룹 정보

**사용자 스토리:** 사용자로서, 각 운동이 어떤 근육을 주로 사용하는지 알고 싶습니다.

#### 수락 기준

1. THE System SHALL 각 운동에 대해 주요 타겟 근육 그룹을 표시한다
2. WHEN 운동 목록을 표시할 때, THE System SHALL 운동명과 함께 근육 그룹 아이콘/태그를 표시한다
3. THE System SHALL 다음 근육 그룹을 지원한다: 가슴, 등, 어깨, 팔(이두/삼두), 복근, 하체(대퇴/둔근/종아리), 전신
4. WHEN 사용자가 운동을 편집할 때, THE System SHALL 근육 그룹을 선택할 수 있는 드롭다운을 제공한다
5. WHEN AI가 루틴을 생성할 때, THE System SHALL 각 운동에 적절한 근육 그룹을 자동으로 할당한다
6. WHEN 사용자가 근육 그룹별로 운동을 필터링하면, THE System SHALL 해당 근육 그룹의 운동만 표시한다
7. THE System SHALL 근육 그룹별로 색상 코딩을 제공한다 (가슴: 빨강, 등: 파랑, 어깨: 주황, 팔: 초록, 복근: 보라, 하체: 갈색, 전신: 회색)

### 요구사항 5: 캘린더 (메인 화면)

**사용자 스토리:** 사용자로서, 캘린더에서 운동 일정을 확인하고 오늘의 운동을 체크하고 싶습니다.

#### 수락 기준

1. WHEN 사용자가 캘린더 화면에 접근하면, THE System SHALL 오늘/주간/월간 탭을 표시한다
2. THE System SHALL 기본으로 "오늘" 탭을 선택된 상태로 표시한다

**오늘 뷰:**
3. WHEN 사용자가 오늘 탭을 선택하면, THE System SHALL 오늘 날짜와 활성 루틴의 오늘 운동을 To-do 리스트로 표시한다
4. WHEN 사용자가 운동 항목을 탭하면, THE System SHALL 해당 항목의 완료 상태를 토글한다
5. WHILE 운동 세션이 진행 중일 때, THE System SHALL 완료된 운동 수와 전체 운동 수를 진행률로 표시한다
6. WHEN 모든 운동 항목이 완료되면, THE System SHALL 완료 축하 메시지를 표시한다

**주간 뷰:**
7. WHEN 사용자가 주간 탭을 선택하면, THE System SHALL 해당 주의 5일(월~금) 운동 일정을 그리드로 표시한다
8. WHEN 주간 뷰에서 날짜를 선택하면, THE System SHALL 해당 날짜의 운동 목록을 하단에 표시한다
9. THE System SHALL 각 날짜에 운동 완료 여부를 아이콘으로 표시한다

**월간 뷰:**
10. WHEN 사용자가 월간 탭을 선택하면, THE System SHALL 해당 월의 달력을 표시한다
11. THE System SHALL 운동 완료일은 ✅, 예정일은 ·, 휴식일은 빈칸으로 표시한다
12. THE System SHALL 월간 완료 통계를 하단에 표시한다

**공통:**
13. WHILE 활성 루틴이 없을 때, THE System SHALL "루틴을 먼저 활성화해주세요" 안내를 표시한다

### 요구사항 6: 마이페이지

**사용자 스토리:** 사용자로서, 내 정보를 확인하고 설정을 변경하고 싶습니다.

#### 수락 기준

1. WHEN 사용자가 마이페이지에 접근하면, THE System SHALL 사용자 이름, 이메일, 프로필 사진을 표시한다
2. WHEN 사용자가 "프로필 설정"을 선택하면, THE System SHALL 프로필 수정 화면으로 이동한다
3. WHEN 사용자가 "로그아웃"을 선택하면, THE System SHALL 로그아웃 후 로그인 화면으로 이동한다
4. THE System SHALL 알림 설정, 캘린더 연동, 도움말 메뉴를 표시한다

### 요구사항 7: 진행 상황 추적

**사용자 스토리:** 사용자로서, 내 운동 진행 상황을 확인하여 동기부여를 받고 싶습니다.

#### 수락 기준

1. WHEN 사용자가 진행 상황 화면에 접근하면, THE System SHALL 이번 주 완료율을 프로그레스 바로 표시한다
2. WHEN 사용자가 진행 상황 화면에 접근하면, THE System SHALL 전체 루틴 진행률을 프로그레스 바로 표시한다
3. THE System SHALL 연속 운동 일수를 표시한다
4. THE System SHALL 이번 달 운동 기록을 미니 캘린더로 표시한다

### 요구사항 8: 하단 네비게이션

**사용자 스토리:** 사용자로서, 주요 화면 간에 쉽게 이동하고 싶습니다.

#### 수락 기준

1. THE System SHALL 하단에 4개 탭 네비게이션을 고정 표시한다: 마이, 루틴, 캘린더, 진행
2. WHEN 사용자가 탭을 선택하면, THE System SHALL 해당 화면으로 이동하고 선택된 탭을 강조 표시한다
3. THE System SHALL 각 탭에 아이콘과 텍스트를 함께 표시한다
4. THE System SHALL 터치 친화적인 크기(최소 44px)로 탭을 제공한다

### 요구사항 9: 모바일 반응형 UI

**사용자 스토리:** 사용자로서, 모바일 기기에서 편리하게 앱을 사용하고 싶습니다.

#### 수락 기준

1. THE System SHALL 320px~448px 너비의 모바일 화면에 최적화된 레이아웃을 제공한다
2. THE System SHALL 터치 친화적인 버튼과 입력 요소를 제공한다 (최소 48px 터치 영역)
3. WHEN 화면 크기가 변경되면, THE System SHALL 레이아웃을 자동으로 조정한다
